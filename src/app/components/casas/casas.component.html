<div *ngIf="this.authAdminService.decodedToken.rol == 'Admin'">
    <nav class="cyan darken-2">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">Logo</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a (click)="logout()" href="#">Cerrar Sesión</a></li>
            </ul>
        </div>
    </nav>
</div>


<body class="bodyLogin">
    <div class="row">
        <!-- Formulario -->
        <div class="col s12 m12 l5 center card-action">
            <div class="border">

                <div class="row card-content">
                    <span class="card-title"><b>Formulario</b></span>
                    <!-- (ngSubmit)="addCasa(userForm)"-->
                    <form #casaForm="ngForm" (ngSubmit)="addCasa(casaForm)">

                        <div class="row col s12 m10 l10 offset-l1 offset-m1">
                            <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="casasService.selectedCasa._id">

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">home</i>
                                <input class="browser-default" id="nombre_negocio" type="text" nombre_negocio="ngModel"
                                    name="nombre_negocio" placeholder="Ingrese el nombre del negocio"
                                    [(ngModel)]="casasService.selectedCasa.nombre_negocio">
                                <!-- <label for="nombre_negocio">Nombre del negocio</label> -->
                            </div>

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">place</i>
                                <input class="browser-default" id="direccion" type="text" name="direccion"
                                    #direccion="ngModel" placeholder="Ingrese direccion de la casa de cambio"
                                    [(ngModel)]="casasService.selectedCasa.direccion">
                                <!-- <label for="direccion">Direccion</label> -->
                            </div>

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">email</i>
                                <input class="browser-default" id="email" type="text" name="email" #email="ngModel"
                                    placeholder="Ingrese correo de contacto"
                                    [(ngModel)]="casasService.selectedCasa.email">
                                <!-- <label for="email">Correo electronico</label> -->
                            </div>

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">vpn_key</i>
                                <input class="browser-default" id="password" type="text" name="password"
                                    #password="ngModel" placeholder="Ingrese contraseña"
                                    [(ngModel)]="casasService.selectedCasa.password">
                                <!-- <label for="password">Contraseña</label> -->
                            </div>

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">add_photo_alternate</i>
                                <input class="browser-default" id="logo" type="text" name="logo" #logo="ngModel"
                                    placeholder="Ingrese logo de la empresa"
                                    [(ngModel)]="casasService.selectedCasa.logo">
                                <!-- <label for="logo">logo</label> -->
                            </div>

                            <!-- <div class="input-field col s12">
                              <input id="nombre_negocio" type="text" nombre_negocio="nombre_negocio" #name="ngModel" placeholder="Ingrese nombre"
                              [(ngModel)]="casasService.selectedCasa.nombre_negocio">
                              <label for="nombre_negocio">Nombre completo</label>
                          </div> -->

                            <div class="input-field col s12 customInput">
                                <i class="material-icons prefix">phone</i>
                                <input class="browser-default" id="telefono" type="number" name="telefono"
                                    #telefono="ngModel" placeholder="Ingrese el numero de telefono"
                                    [(ngModel)]="casasService.selectedCasa.telefono">
                                <!-- <label for="telefono">Telefono</label> -->
                            </div>
                        </div>

                    </form>
                </div>

                <div class="card-action">
                    <div class="row">
                        <div class="col s6">
                            <a (click)="resetForm(casaForm)" style="width: 100%;"
                                class="btn col l10 s12 m12 green accent-6 btnL offset-l1 offset-s2 offset-m2">Limpiar
                                formulario</a>
                        </div>

                        <div class="col s6">
                            <a (click)="addCasa(casaForm)" style="width: 100%;"
                                class="btn col l10 s12 m12 red accent-6 btnL offset-l1 offset-s1 offset-m1">Guardar
                                casa</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- Tabla -->
        <div class="col s12 m12 l7 table2">
            <div class="col s12 m12 l12">
                <div class="container">
                    <div class="customInput">
                        <i class="material-icons prefix">search </i>
                        <input class="browser-default" type="text" id="searchfield" (keyup)="getCasasByNameAndEmail()"
                            placeholder="Buscar por nombre o correo">
                    </div>

                    <table class="content-table table">
                        <thead>
                            <tr>
                                <th>Nombre del negocio</th>
                                <th>Direccion</th>
                                <th>Correo</th>
                                <th>Logo</th>
                                <th>Telefono</th>
                                <th>Operaciones</th>
                            </tr>

                        </thead>
                        <tbody>
                            <tr *ngFor="let casas of casasService.casas">
                                <td>{{ casas.nombre_negocio }}</td>
                                <td>{{ casas.direccion }}</td>
                                <td>{{ casas.email }}</td>
                                <td>{{ casas.logo }}</td>
                                <td>{{ casas.telefono }}</td>

                                <td>
                                    <a (click)="updateCasa(casas)" style="margin-left: 10px; margin-right: 10px;"><i
                                            class="material-icons amber-text">edit</i></a>
                                    <a (click)="deleteCasa(casas._id)" style="margin-left: 10px; margin-right: 10px;"><i
                                            class="material-icons red-text">delete</i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

        </div>
    </div>
</body>